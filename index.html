<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼å ã„</title>
  <meta name="description" content="ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ä»Šæ—¥ã®ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã€æˆæ¥­å‘ã‘ã‚·ãƒ³ãƒ—ãƒ«JavaScriptãƒ‡ãƒ¢ã€‚" />
  <style>
    :root {
      --bg: #0f172a;           /* slate-900 */
      --card: #111827;         /* gray-900 */
      --text: #f8fafc;         /* slate-50 */
      --muted: #cbd5e1;        /* slate-300 */
      --accent: #60a5fa;       /* blue-400 */
      --accent-press: #3b82f6; /* blue-500 */
      --ring: rgba(96,165,250,0.45);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f1f5f9;          /* slate-100 */
        --card: #ffffff;        /* white */
        --text: #0f172a;        /* slate-900 */
        --muted: #475569;       /* slate-600 */
        --accent: #2563eb;      /* blue-600 */
        --accent-press: #1d4ed8;/* blue-700 */
        --ring: rgba(59,130,246,0.35);
      }
    }

    html, body {
      height: 100%;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic UI", "Yu Gothic", Meiryo, sans-serif;
      background: radial-gradient(1200px 800px at 50% -10%, rgba(99,102,241,0.15), transparent),
                  radial-gradient(900px 600px at 120% 110%, rgba(34,197,94,0.15), transparent),
                  var(--bg);
      color: var(--text);
      display: grid;
      place-items: center;
      line-height: 1.55;
    }

    .wrap {
      width: min(720px, 92vw);
      padding: 32px 24px 28px;
      background: var(--card);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.06);
    }

    h1 {
      margin: 0 0 8px;
      font-size: clamp(22px, 3.2vw, 28px);
      letter-spacing: 0.02em;
    }
    p.lead {
      margin: 0 0 20px;
      color: var(--muted);
      font-size: 0.98rem;
    }

    .controls {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
      margin: 14px 0 16px;
    }

    button {
      appearance: none;
      border: none;
      border-radius: 999px;
      padding: 12px 20px;
      font-weight: 700;
      font-size: 1rem;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
      transition: transform .06s ease, box-shadow .2s ease, background .12s ease;
      box-shadow: 0 6px 16px rgba(37,99,235,0.35);
      outline: none;
    }
    button:active { transform: translateY(1px); background: var(--accent-press); }
    button:focus-visible { box-shadow: 0 0 0 4px var(--ring); }

    .result {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-top: 12px;
    }

    .swatch {
      border-radius: 16px;
      min-height: 140px;
      display: grid;
      place-items: center;
      text-align: center;
      padding: 16px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.15);
      border: 1px solid rgba(0,0,0,0.08);
    }

    .name {
      font-size: clamp(20px, 4vw, 26px);
      font-weight: 800;
      letter-spacing: 0.04em;
    }
    .hex {
      margin-top: 4px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      opacity: .85;
      background: rgba(0,0,0,0.12);
      padding: 4px 10px;
      border-radius: 999px;
    }

    .note { color: var(--muted); font-size: .9rem; margin-top: 8px; }
    footer { margin-top: 18px; color: var(--muted); font-size: .85rem; }

    .palette {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 18px;
    }
    .chip {
      display: grid;
      grid-template-columns: 20px 1fr;
      align-items: center;
      gap: 10px;
      background: rgba(0,0,0,0.15);
      border-radius: 12px;
      padding: 8px 10px;
      border: 1px solid rgba(255,255,255,0.06);
    }
    @media (prefers-color-scheme: light) {
      .chip { background: rgba(0,0,0,0.05); }
      .hex { background: rgba(0,0,0,0.06); }
    }
    .chip .dot {
      width: 20px; height: 20px; border-radius: 50%;
      box-shadow: 0 0 0 1px rgba(0,0,0,0.15) inset;
    }
    .chip .label { font-size: .92rem; }
  </style>
</head>
<body>
  <main class="wrap">
    <h1>ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼å ã„ ğŸ¨</h1>
    <p class="lead">ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€12è‰²ã®ä¸­ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«ã€Œãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼ã€ã‚’ã²ã¨ã¤è¡¨ç¤ºã—ã¾ã™ã€‚æˆæ¥­ã§ã®ãƒ‡ãƒ¢ç”¨ã«ã€<strong>DOMæ“ä½œ</strong>ã¨<strong>ä¹±æ•°</strong>ã®åŸºæœ¬ãŒåˆ†ã‹ã‚‹æ§‹æˆã§ã™ã€‚</p>

    <div class="controls">
      <button id="pick" type="button" aria-describedby="hint">ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼ã‚’å ã†</button>
      <span id="hint" class="note">â€»ã‚¯ãƒªãƒƒã‚¯ã‚„Enterã‚­ãƒ¼ã§ã‚‚å®Ÿè¡Œã§ãã¾ã™</span>
    </div>

    <section class="result" aria-live="polite" aria-atomic="true">
      <div id="swatch" class="swatch" style="background:#0ea5e9; color:#fff">
        <div>
          <div class="name" id="colorName">ã‚·ã‚¢ãƒ³ï¼ˆä¾‹ï¼‰</div>
          <div class="hex" id="colorHex">#0EA5E9</div>
        </div>
      </div>
      <div class="note">çµæœã¯ãã®éƒ½åº¦ãƒ©ãƒ³ãƒ€ãƒ ã§ã™ã€‚è¦–èªæ€§ã®ãŸã‚ã€èƒŒæ™¯è‰²ã«åˆã‚ã›ã¦æ–‡å­—è‰²ã‚’è‡ªå‹•èª¿æ•´ã—ã¦ã„ã¾ã™ã€‚</div>
      <div class="palette" id="palette" aria-hidden="true"></div>
    </section>

    <footer>
      <span>Â© 2025 Lucky Color Demo</span>
    </footer>
  </main>

  <script>
    // 12è‰²ã®å®šç¾©ï¼ˆæ—¥æœ¬èªå + HEXï¼‰
    const COLORS = [
      { name: 'èµ¤',   hex: '#E53935' },
      { name: 'æ©™',   hex: '#FB8C00' },
      { name: 'é»„',   hex: '#FDD835' },
      { name: 'é»„ç·‘', hex: '#7CB342' },
      { name: 'ç·‘',   hex: '#2E7D32' },
      { name: 'é’',   hex: '#1E88E5' },
      { name: 'è—',   hex: '#3949AB' },
      { name: 'ç´«',   hex: '#8E24AA' },
      { name: 'æ¡ƒ',   hex: '#EC407A' },
      { name: 'èŒ¶',   hex: '#8D6E63' },
      { name: 'ç™½',   hex: '#FFFFFF' },
      { name: 'é»’',   hex: '#1F2937' }
    ];

    // åˆæœŸãƒ‘ãƒ¬ãƒƒãƒˆã®æç”»ï¼ˆæ•™æã¨ã—ã¦ã€é…åˆ—â†’DOMç”Ÿæˆã®ä¾‹ï¼‰
    const palette = document.getElementById('palette');
    COLORS.forEach(c => {
      const chip = document.createElement('div');
      chip.className = 'chip';
      const dot = document.createElement('span');
      dot.className = 'dot';
      dot.style.background = c.hex;
      const label = document.createElement('span');
      label.className = 'label';
      label.textContent = `${c.name}  ${c.hex.toUpperCase()}`;
      chip.append(dot, label);
      palette.appendChild(chip);
    });

    // è¦ç´ ã®å‚ç…§
    const btn = document.getElementById('pick');
    const swatch = document.getElementById('swatch');
    const colorName = document.getElementById('colorName');
    const colorHex = document.getElementById('colorHex');

    // ã‚¯ãƒªãƒƒã‚¯ã§è‰²ã‚’é¸ã¶
    btn.addEventListener('click', () => {
      const index = Math.floor(Math.random() * COLORS.length);
      const { name, hex } = COLORS[index];
      updateResult(name, hex);
    });

    // Enterã‚­ãƒ¼ã§ã‚‚ç™ºç«ï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é…æ…®ï¼‰
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        btn.click();
      }
    });

    // æ–‡å­—è‰²ã®è‡ªå‹•èª¿æ•´ï¼ˆç›¸å¯¾è¼åº¦ãƒ™ãƒ¼ã‚¹ï¼‰
    function idealTextColor(bgHex) {
      const { r, g, b } = hexToRgb(bgHex);
      // sRGB â†’ ç·šå½¢åŒ–
      const srgb = [r, g, b].map(v => v / 255).map(u => u <= 0.03928 ? u / 12.92 : Math.pow((u + 0.055) / 1.055, 2.4));
      const L = 0.2126 * srgb[0] + 0.7152 * srgb[1] + 0.0722 * srgb[2]; // ç›¸å¯¾è¼åº¦
      return L > 0.6 ? '#111827' : '#FFFFFF';
    }

    function hexToRgb(hex) {
      const h = hex.replace('#', '');
      const bigint = parseInt(h.length === 3 ? h.split('').map(ch => ch + ch).join('') : h, 16);
      return { r: (bigint >> 16) & 255, g: (bigint >> 8) & 255, b: bigint & 255 };
    }

    function updateResult(name, hex) {
      const textColor = idealTextColor(hex);
      swatch.style.background = hex;
      swatch.style.color = textColor;
      colorName.textContent = name;
      colorHex.textContent = hex.toUpperCase();
      // è¦–è¦šåŠ¹æœï¼ˆå°ã•ãªãƒãƒƒãƒ—ï¼‰
      swatch.animate([
        { transform: 'scale(1)' },
        { transform: 'scale(1.02)' },
        { transform: 'scale(1)' }
      ], { duration: 200, easing: 'ease-out' });
    }

    // ãƒ‡ãƒ¢åˆæœŸåŒ–ï¼šæœ€åˆã«ä¸€å›å®Ÿè¡Œ
    updateResult('ã‚·ã‚¢ãƒ³ï¼ˆä¾‹ï¼‰', '#0EA5E9');
  </script>
</body>
</html>
